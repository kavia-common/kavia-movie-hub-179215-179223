{"is_source_file": true, "format": "Python", "description": "This file provides a singleton pattern implementation for initializing and retrieving a Supabase client in a server-side Python application. It handles environment variable configuration, thread-safe lazy initialization, and error logging related to setting up the Supabase client.", "external_files": ["supabase", "os", "threading", "logging", "json"], "external_methods": ["supabase.create_client"], "published": ["get_supabase"], "classes": [], "methods": [{"name": "Client _create_client()", "description": "Creates and configures a new Supabase client using environment variables, with error handling for missing information or creation failure.", "scope": "", "scopeKind": ""}, {"name": "Client get_supabase()", "description": "Provides access to a lazily-initialized singleton Supabase client, ensuring thread-safe one-time creation.", "scope": "", "scopeKind": ""}], "calls": ["os.getenv", "supabase.create_client", "json.dumps", "json.dumps", "json.dumps", "create_client", "_logger.info", "_logger.error", "_logger.exception"], "search-terms": ["supabase_client", "singleton", "thread-safe", "lazy initialization", "Supabase in Python"], "state": 2, "file_id": 8, "knowledge_revision": 30, "git_revision": "9dd6af1f1d813e96109dbe87f948264ee6c66b80", "ctags": [{"_type": "tag", "name": "_client", "path": "/home/kavia/workspace/code-generation/kavia-movie-hub-179215-179223/flask_backend/app/services/supabase_client.py", "pattern": "/^_client: Optional[Client] = None$/", "language": "Python", "typeref": "typename:Optional[Client]", "kind": "variable"}, {"_type": "tag", "name": "_client_lock", "path": "/home/kavia/workspace/code-generation/kavia-movie-hub-179215-179223/flask_backend/app/services/supabase_client.py", "pattern": "/^_client_lock = threading.Lock()$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "_create_client", "path": "/home/kavia/workspace/code-generation/kavia-movie-hub-179215-179223/flask_backend/app/services/supabase_client.py", "pattern": "/^def _create_client() -> Client:$/", "language": "Python", "typeref": "typename:Client", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "_logger", "path": "/home/kavia/workspace/code-generation/kavia-movie-hub-179215-179223/flask_backend/app/services/supabase_client.py", "pattern": "/^_logger = logging.getLogger(\"app.supabase\")$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "get_supabase", "path": "/home/kavia/workspace/code-generation/kavia-movie-hub-179215-179223/flask_backend/app/services/supabase_client.py", "pattern": "/^def get_supabase() -> Client:$/", "language": "Python", "typeref": "typename:Client", "kind": "function", "signature": "()"}], "hash": "aad9bc1f1eb055685ec1be614b554320", "format-version": 4, "code-base-name": "flask_backend", "filename": "flask_backend/app/services/supabase_client.py", "fields": [{"name": "Optional[Client] _client", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "_client_lock = threading.Lock()", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "_logger = logging.getLogger(\"app.supabase\")", "scope": "", "scopeKind": "", "description": "unavailable"}], "revision_history": [{"30": "9dd6af1f1d813e96109dbe87f948264ee6c66b80"}]}